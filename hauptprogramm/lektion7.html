<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lektion 7 – Bedingungen mit WHERE</title>
    <link rel="stylesheet" href="style.css" />
    <style>
        body {
          background: linear-gradient(135deg, #0b0e1a, #11142d);
          color: #f0f0f0;
          font-family: 'Segoe UI', sans-serif;
          margin: 0;
          padding: 0;
          display: flex;
          justify-content: center;
          align-items: flex-start;
          min-height: 100vh;
        }
        .lesson-container {
          width: 90%;
          max-width: 1200px;
          margin: 4rem auto;
          background: rgba(20, 24, 40, 0.97);
          padding: 2.5rem 3rem;
          border-radius: 1.5rem;
          box-shadow: 0 0 30px rgba(0, 242, 255, 0.15);
        }
        h1, h2, h3 {
          color: #00f2ff;
        }
        p, li {
          line-height: 1.6;
        }
        pre, code {
          background-color: #1f223a;
          padding: 0.6rem 1rem;
          border-radius: 0.5rem;
          display: block;
          overflow-x: auto;
        }
        textarea {
          width: 100%;
          padding: 1rem;
          font-family: monospace;
          font-size: 1rem;
          border-radius: 0.5rem;
          background-color: #1a1e33;
          color: white;
          border: none;
          margin-top: 1rem;
        }
        .btn {
          margin-top: 1rem;
          padding: 0.8rem 1.5rem;
          background-color: #8b5cf6;
          color: white;
          border: none;
          border-radius: 1rem;
          cursor: pointer;
          font-weight: bold;
          box-shadow: 0 0 15px #8b5cf670;
          transition: all 0.3s ease;
        }
        .btn:hover {
          background-color: #a78bfa;
          transform: scale(1.03);
        }
        .btn-secondary {
          display: inline-block;
          background-color: #2d2f45;
          color: #e0e0e0;
          padding: 0.6rem 1.2rem;
          border-radius: 0.6rem;
          text-decoration: none;
          font-weight: 500;
          margin-top: 1rem;
        }
        .feedback {
          margin-top: 1rem;
          font-weight: bold;
        }
    </style>
</head>
<body>
<div class="lesson-container">
    <h1>Lektion 7: Bedingte Abfragen mit WHERE, AND, OR</h1>

    <h2>Was macht WHERE?</h2>
    <p>In SQL ist <code>WHERE</code> ein essenzielles Werkzeug, um gezielt Daten aus einer Tabelle zu filtern. Stell dir vor, du möchtest nicht alle Datensätze, sondern nur bestimmte, ganz bestimmte Zeilen sehen – z. B. alle Kunden aus Köln oder alle Artikel mit Preis &gt; 50 Euro. Dafür brauchst du Bedingungen. Diese schreibst du mit <code>WHERE</code>.</p>

    <p>Der Grundaufbau sieht so aus:</p>
    <pre><code>SELECT * FROM Tabelle WHERE Bedingung;</code></pre>

    <p>Beispiel:</p>
    <pre><code>SELECT * FROM Kunde WHERE Ort = 'Berlin';</code></pre>
    <p>Diese Abfrage gibt alle Kunden zurück, bei denen im Feld <code>Ort</code> der Wert „Berlin“ gespeichert ist.</p>

    <h2>Vergleichsoperatoren im Überblick</h2>
    <p>Mit folgenden Operatoren kannst du Werte in Bedingungen vergleichen:</p>
    <ul>
        <li><code>=</code> – Gleichheit</li>
        <li><code>&lt;&gt;</code> oder <code>!=</code> – Ungleichheit</li>
        <li><code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code> – Kleiner/Größer (gleich)</li>
        <li><code>BETWEEN ... AND ...</code> – Bereichsabfrage (inklusive)</li>
        <li><code>IN (...)</code> – Liste möglicher Werte</li>
        <li><code>LIKE</code> – Mustervergleich (z. B. beginnt mit „M“)</li>
    </ul>

    <p><strong>Hinweis:</strong> Textwerte werden immer in einfachen Anführungszeichen geschrieben: <code>'Berlin'</code></p>

    <h2>Bedingungen kombinieren</h2>
    <p>Du kannst mehrere Bedingungen in einer Abfrage verknüpfen. Dafür gibt es die logischen Operatoren <code>AND</code>, <code>OR</code> und <code>NOT</code>.</p>

    <ul>
        <li><code>AND</code> – beide Bedingungen müssen erfüllt sein</li>
        <li><code>OR</code> – mindestens eine Bedingung muss zutreffen</li>
        <li><code>NOT</code> – kehrt die Bedingung um (z. B. <code>NOT LIKE</code>)</li>
    </ul>

    <pre><code>SELECT * FROM Artikel WHERE Preis BETWEEN 50 AND 100;
SELECT * FROM Kunde WHERE Ort = 'Berlin' AND Name LIKE 'M%';
SELECT * FROM Kunde WHERE NOT Ort = 'München';</code></pre>

    <h2>Übersichtstabelle: Vergleichsoperatoren in SQL</h2>
    <table style="width:100%; border-collapse: collapse; margin: 2rem 0;">
        <thead>
        <tr>
            <th style="background-color:#1a1e33; color:#00f2ff; padding: 0.75rem 1rem; text-align: left;">Operator</th>
            <th style="background-color:#1a1e33; color:#00f2ff; padding: 0.75rem 1rem; text-align: left;">Beschreibung</th>
            <th style="background-color:#1a1e33; color:#00f2ff; padding: 0.75rem 1rem; text-align: left;">Beispiel</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">=</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Gleichheit</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Ort = 'Berlin'</code></td>
        </tr>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">&lt;&gt; oder !=</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Ungleichheit</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Preis != 100</code></td>
        </tr>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">BETWEEN</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Wertebereich</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Preis BETWEEN 20 AND 100</code></td>
        </tr>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">IN</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Wert in Liste</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Ort IN ('Berlin', 'Köln')</code></td>
        </tr>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">LIKE</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Mustervergleich</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Name LIKE 'A%'</code></td>
        </tr>
        <tr>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">IS NULL</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;">Nullwert überprüfen</td>
            <td style="background-color:#181b2d; padding: 0.75rem 1rem;"><code>WHERE Rabatt IS NULL</code></td>
        </tr>
        </tbody>
    </table>

    <p>Diese Kombinationen machen SQL extrem flexibel – du kannst sehr spezifisch nach genau den Daten fragen, die du brauchst.</p>

    <h3>Aufgabe 4</h3>
    <p>Gib alle Kunden aus, deren Ort entweder "Berlin", "Köln" oder "Leipzig" ist.</p>
    <textarea id="a4"></textarea>
    <button class="btn" onclick="checkA4()">Antwort prüfen</button>
    <div class="feedback" id="f4"></div>

    <h3>Aufgabe 5</h3>
    <p>Welche SQL-Abfrage zeigt alle Artikel ohne hinterlegten Preis?</p>
    <textarea id="a5"></textarea>
    <button class="btn" onclick="checkA5()">Antwort prüfen</button>
    <div class="feedback" id="f5"></div>

    <h3>Aufgabe 1</h3>
    <p>Gib alle Kunden mit dem Wohnort „Köln“ aus.</p>
    <textarea id="a1"></textarea>
    <button class="btn" onclick="checkA1()">Antwort prüfen</button>
    <div class="feedback" id="f1"></div>

    <h3>Aufgabe 2</h3>
    <p>Wähle alle Artikel mit einem Preis zwischen 20 und 100 Euro aus.</p>
    <textarea id="a2"></textarea>
    <button class="btn" onclick="checkA2()">Antwort prüfen</button>
    <div class="feedback" id="f2"></div>

    <h3>Aufgabe 3</h3>
    <p>Welche SQL-Abfrage gibt alle Kunden aus, deren Name mit „S“ beginnt?</p>
    <textarea id="a3"></textarea>
    <button class="btn" onclick="checkA3()">Antwort prüfen</button>
    <div class="feedback" id="f3"></div>

    <a href="dashboard.html" class="btn-secondary">← Zurück zum Dashboard</a>
</div>

<script>
    function normalize(s) {
      return s.trim().toLowerCase().replaceAll(';', '').replaceAll('\n', ' ').replace(/\s+/g, ' ');
    }

    function checkA1() {
      const input = normalize(document.getElementById("a1").value);
      const f = document.getElementById("f1");
      if (input.includes("select") && input.includes("from kunde") && input.includes("where") && input.includes("k\u00f6ln")) {
        f.textContent = "✅ Richtig! WHERE Ort = 'Köln' filtert korrekt.";
        f.style.color = '#00f2ff';
      } else {
        f.textContent = "❌ Noch nicht korrekt. Nutze WHERE Ort = 'Köln'.";
        f.style.color = '#ff6b6b';
      }
    }

    function checkA2() {
      const input = normalize(document.getElementById("a2").value);
      const f = document.getElementById("f2");
      if (input.includes("preis between 20 and 100")) {
        f.textContent = "✅ Richtig! BETWEEN ... AND ... wurde korrekt verwendet.";
        f.style.color = '#00f2ff';
      } else {
        f.textContent = "❌ Fast. Versuch es mit BETWEEN 20 AND 100.";
        f.style.color = '#ff6b6b';
      }
    }

    function checkA3() {
      const input = normalize(document.getElementById("a3").value);
      const f = document.getElementById("f3");
      if (input.includes("like 's%'") || input.includes("like \"s%\"")) {
        f.textContent = "✅ Super! LIKE 'S%' ist korrekt.";
        f.style.color = '#00f2ff';
      } else {
        f.textContent = "❌ Achte auf die LIKE-Syntax mit 'S%'.";
        f.style.color = '#ff6b6b';
      }
    }
    function checkA4() {
      const input = normalize(document.getElementById("a4").value);
      const f = document.getElementById("f4");
      if (input.includes("ort") && input.includes("in") && input.includes("berlin") && input.includes("köln") && input.includes("leipzig")) {
        f.textContent = "✅ Richtig! Die IN-Klausel ist korrekt verwendet.";
        f.style.color = '#00f2ff';
      } else {
        f.textContent = "❌ Nicht ganz. Verwende IN ('Berlin', 'Köln', 'Leipzig').";
        f.style.color = '#ff6b6b';
      }
    }

    function checkA5() {
      const input = normalize(document.getElementById("a5").value);
      const f = document.getElementById("f5");
      if (input.includes("preis") && input.includes("is null")) {
        f.textContent = "✅ Genau! IS NULL prüft auf fehlende Werte.";
        f.style.color = '#00f2ff';
      } else {
        f.textContent = "❌ Hinweis: Preis IS NULL zeigt Zeilen ohne Preis.";
        f.style.color = '#ff6b6b';
      }
    }
</script>
</body>
</html>